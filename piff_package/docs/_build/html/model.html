<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Models &mdash; Piff 1.3.3 documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Interpolation Schemes" href="interp.html" />
    <link rel="prev" title="Selecting Good PSF Stars" href="select.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Piff
          </a>
              <div class="version">
                1.3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">PIFF: PSFs In the Full FOV</a></li>
<li class="toctree-l1"><a class="reference internal" href="piffify.html">The piffify executable</a></li>
<li class="toctree-l1"><a class="reference internal" href="input.html">Reading in Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="select.html">Selecting Good PSF Stars</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-model-base-class">The Model base class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#models-based-on-galsim-objects">Models based on GalSim objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pixel-grid-model">Pixel grid model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#optical-model">Optical model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="interp.html">Interpolation Schemes</a></li>
<li class="toctree-l1"><a class="reference internal" href="psf.html">PSF classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="outliers.html">Removing Outliers</a></li>
<li class="toctree-l1"><a class="reference internal" href="output.html">Writing the output file</a></li>
<li class="toctree-l1"><a class="reference internal" href="stats.html">Output statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="star.html">Stars</a></li>
<li class="toctree-l1"><a class="reference internal" href="util.html">Utility Functions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Piff</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Models</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/model.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="models">
<h1>Models<a class="headerlink" href="#models" title="Permalink to this headline">¶</a></h1>
<p>Models govern what functional form to use for the PSF at a single location.</p>
<div class="section" id="the-model-base-class">
<h2>The Model base class<a class="headerlink" href="#the-model-base-class" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="piff.Model">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">piff.</span></code><code class="sig-name descname"><span class="pre">Model</span></code><a class="reference internal" href="_modules/piff/model.html#Model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.Model" title="Permalink to this definition">¶</a></dt>
<dd><p>The base class for modeling a single PSF (i.e. no interpolation yet)</p>
<p>This is essentially an abstract base class intended to define the methods that should be
implemented by any derived class.</p>
<dl class="py method">
<dt id="piff.Model.draw">
<code class="sig-name descname"><span class="pre">draw</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">star</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/model.html#Model.draw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.Model.draw" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw the model on the given image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>star</strong> – A Star instance with the fitted parameters to use for drawing and a
data field that acts as a template image for the drawn model.</p></li>
<li><p><strong>copy_image</strong> – If False, will use the same image object.
If True, will copy the image and then overwrite it.
[default: True]</p></li>
<li><p><strong>center</strong> – An optional tuple (x,y) location for where to center the drawn profile
in the image. [default: None, which draws at the star’s location.]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a new Star instance with the data field having an image of the drawn model.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="piff.Model.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">star</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/model.html#Model.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.Model.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the Model to the star’s data to yield iterative improvement on
its PSF parameters, their uncertainties, and flux (and center, if free).
The returned star.fit.alpha will be inverse covariance of solution if
it is estimated, else is None.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>star</strong> – A Star instance</p></li>
<li><p><strong>convert_func</strong> – An optional function to apply to the profile being fit before
drawing it onto the image.  This is used by composite PSFs to
isolate the effect of just this model component. [default: None]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>New Star instance with updated fit information</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="piff.Model.initialize">
<code class="sig-name descname"><span class="pre">initialize</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">star</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/model.html#Model.initialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.Model.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a star to work with the current model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>star</strong> – A Star instance with the raw data.</p></li>
<li><p><strong>logger</strong> – A logger object for logging debug info. [default: None]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Star instance with the appropriate initial fit values</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="piff.Model.normalize">
<code class="sig-name descname"><span class="pre">normalize</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">star</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/model.html#Model.normalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.Model.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure star.fit.params are normalized properly.</p>
<p>Note: This modifies the input star in place.</p>
</dd></dl>

<dl class="py method">
<dt id="piff.Model.parseKwargs">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">parseKwargs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/model.html#Model.parseKwargs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.Model.parseKwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the model field of a configuration dict and return the kwargs to use for
initializing an instance of the class.</p>
<p>The base class implementation just returns the kwargs as they are, but derived classes
might want to override this if they need to do something more sophisticated with them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config_model</strong> – The model field of the configuration dict, config[‘model’]</p></li>
<li><p><strong>logger</strong> – A logger object for logging debug info. [default: None]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a kwargs dict to pass to the initializer</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="piff.Model.process">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">process</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/model.html#Model.process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.Model.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the model field of the config dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config_model</strong> – The configuration dict for the model field.</p></li>
<li><p><strong>logger</strong> – A logger object for logging debug info. [default: None]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a Model instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="piff.Model.read">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">read</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/model.html#Model.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.Model.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a Model from a FITS file.</p>
<p>Note: the returned Model will not have its parameters set.  This just initializes a fresh
model that can be used to interpret interpolated vectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fits</strong> – An open fitsio.FITS object</p></li>
<li><p><strong>extname</strong> – The name of the extension with the model information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a model built with a information in the FITS file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="piff.Model.reflux">
<code class="sig-name descname"><span class="pre">reflux</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">star</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit_center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/model.html#Model.reflux"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.Model.reflux" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the Model to the star’s data, varying only the flux (and
center, if it is free).  Flux and center are updated in the Star’s
attributes.  This is a single-step solution if only solving for flux,
otherwise an iterative operation.  DOF in the result assume
only flux (&amp; center) are free parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>star</strong> – A Star instance</p></li>
<li><p><strong>fit_center</strong> – If False, disable any motion of center</p></li>
<li><p><strong>logger</strong> – A logger object for logging debug info. [default: None]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>New Star instance, with updated flux, center, chisq, dof</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="piff.Model.write">
<code class="sig-name descname"><span class="pre">write</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fits</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/model.html#Model.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.Model.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a Model to a FITS file.</p>
<p>Note: this only writes the initialization kwargs to the fits extension, not the parameters.</p>
<p>The base class implemenation works if the class has a self.kwargs attribute and these
are all simple values (str, float, or int)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fits</strong> – An open fitsio.FITS object</p></li>
<li><p><strong>extname</strong> – The name of the extension to write the model information.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="models-based-on-galsim-objects">
<h2>Models based on GalSim objects<a class="headerlink" href="#models-based-on-galsim-objects" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="piff.GSObjectModel">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">piff.</span></code><code class="sig-name descname"><span class="pre">GSObjectModel</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gsobj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fastfit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centered</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_pixel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scipy_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/gsobject_model.html#GSObjectModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.GSObjectModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Model that takes a fiducial GalSim.GSObject and dilates, shifts, and shears it to get a
good match to stars.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gsobj</strong> – GSObject to use as fiducial profile.</p></li>
<li><p><strong>fastfit</strong> – Use HSM moments for fitting.  Approximate, but fast.  [default: False]</p></li>
<li><p><strong>centered</strong> – If True, PSF model centroid is forced to be (0,0), and the
PSF fitting will marginalize over stellar position.  If False, stellar
position is fixed at input value and the fitted PSF may be off-center.
[default: True]</p></li>
<li><p><strong>include_pixel</strong> – Include integration over pixel when drawing?  [default: True]</p></li>
<li><p><strong>scipy_kwargs</strong> – Optional kwargs to pass to scipy.optimize.least_squares [default: None]</p></li>
<li><p><strong>logger</strong> – A logger object for logging debug info. [default: None]</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="piff.GSObjectModel.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">star</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fastfit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/gsobject_model.html#GSObjectModel.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.GSObjectModel.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the image either using HSM or least-squares minimization.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">fastfit</span></code> is True, then the galsim.hsm module will be used to estimate the
transformation parameters that take the fiducial moments into the data moments.
If <code class="docutils literal notranslate"><span class="pre">fastfit</span></code> is False, then the Levenberg-Marquardt minimization algorithm will be used
instead.  The latter should generally be more accurate, but slower due to the need to
iteratively propose model improvements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>star</strong> – A Star to fit.</p></li>
<li><p><strong>fastfit</strong> – Use fast HSM moments to fit? [default: None, which means use
fitting mode specified in the constructor.]</p></li>
<li><p><strong>logger</strong> – A logger object for logging debug info. [default: None]</p></li>
<li><p><strong>convert_func</strong> – An optional function to apply to the profile being fit before
drawing it onto the image.  This is used by composite PSFs to
isolate the effect of just this model component. [default: None]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a new Star with the fitted parameters in star.fit</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="piff.GSObjectModel.getProfile">
<code class="sig-name descname"><span class="pre">getProfile</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/gsobject_model.html#GSObjectModel.getProfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.GSObjectModel.getProfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a version of the model as a GalSim GSObject</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> – A numpy array with either  [ size, g1, g2 ]
or  [ cenu, cenv, size, g1, g2 ]
depending on if the center of the model is being forced to (0.0, 0.0)
or not.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a galsim.GSObject instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="piff.GSObjectModel.initialize">
<code class="sig-name descname"><span class="pre">initialize</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">star</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/gsobject_model.html#GSObjectModel.initialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.GSObjectModel.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the given star’s fit parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>star</strong> – The Star to initialize.</p></li>
<li><p><strong>logger</strong> – A logger object for logging debug info. [default: None]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a new initialized Star.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="piff.GSObjectModel.least_squares_fit">
<code class="sig-name descname"><span class="pre">least_squares_fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">star</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/gsobject_model.html#GSObjectModel.least_squares_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.GSObjectModel.least_squares_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit parameters of the given star using least-squares minimization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>star</strong> – A Star to fit.</p></li>
<li><p><strong>logger</strong> – A logger object for logging debug info. [default: None]</p></li>
<li><p><strong>convert_func</strong> – An optional function to apply to the profile being fit before
drawing it onto the image.  This is used by composite PSFs to
isolate the effect of just this model component. [default: None]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(flux, dx, dy, scale, g1, g2, flag)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="piff.GSObjectModel.moment_fit">
<code class="sig-name descname"><span class="pre">moment_fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">star</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/gsobject_model.html#GSObjectModel.moment_fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.GSObjectModel.moment_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate transformations needed to bring self.gsobj towards given star.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="piff.Gaussian">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">piff.</span></code><code class="sig-name descname"><span class="pre">Gaussian</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fastfit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centered</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_pixel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scipy_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/gsobject_model.html#Gaussian"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.Gaussian" title="Permalink to this definition">¶</a></dt>
<dd><p>Model PSFs as elliptical Gaussians.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fastfit</strong> – Use HSM moments for fitting.  Approximate, but fast.  [default: False]</p></li>
<li><p><strong>centered</strong> – If True, PSF model centroid is forced to be (0,0), and the
PSF fitting will marginalize over stellar position.  If False, stellar
position is fixed at input value and the fitted PSF may be off-center.
[default: True]</p></li>
<li><p><strong>include_pixel</strong> – Include integration over pixel when drawing?  [default: True]</p></li>
<li><p><strong>scipy_kwargs</strong> – Optional kwargs to pass to scipy.optimize.least_squares [default: None]</p></li>
<li><p><strong>logger</strong> – A logger object for logging debug info. [default: None]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="piff.Kolmogorov">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">piff.</span></code><code class="sig-name descname"><span class="pre">Kolmogorov</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fastfit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centered</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_pixel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scipy_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/gsobject_model.html#Kolmogorov"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.Kolmogorov" title="Permalink to this definition">¶</a></dt>
<dd><p>Model PSFs as elliptical Kolmogorovs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fastfit</strong> – Use HSM moments for fitting.  Approximate, but fast.  [default: False]</p></li>
<li><p><strong>centered</strong> – If True, PSF model centroid is forced to be (0,0), and the
PSF fitting will marginalize over stellar position.  If False, stellar
position is fixed at input value and the fitted PSF may be off-center.
[default: True]</p></li>
<li><p><strong>include_pixel</strong> – Include integration over pixel when drawing?  [default: True]</p></li>
<li><p><strong>scipy_kwargs</strong> – Optional kwargs to pass to scipy.optimize.least_squares [default: None]</p></li>
<li><p><strong>logger</strong> – A logger object for logging debug info. [default: None]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="piff.Moffat">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">piff.</span></code><code class="sig-name descname"><span class="pre">Moffat</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">beta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fastfit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centered</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_pixel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scipy_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/gsobject_model.html#Moffat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.Moffat" title="Permalink to this definition">¶</a></dt>
<dd><p>Model PSFs as elliptical Moffats.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>beta</strong> – Moffat shape parameter.</p></li>
<li><p><strong>trunc</strong> – Optional truncation radius at which profile drops to zero.  Measured in half
light radii.  [default: 0, indicating no truncation]</p></li>
<li><p><strong>fastfit</strong> – Use HSM moments for fitting.  Approximate, but fast.  [default: False]</p></li>
<li><p><strong>centered</strong> – If True, PSF model centroid is forced to be (0,0), and the
PSF fitting will marginalize over stellar position.  If False, stellar
position is fixed at input value and the fitted PSF may be off-center.
[default: True]</p></li>
<li><p><strong>include_pixel</strong> – Include integration over pixel when drawing?  [default: True]</p></li>
<li><p><strong>scipy_kwargs</strong> – Optional kwargs to pass to scipy.optimize.least_squares [default: None]</p></li>
<li><p><strong>logger</strong> – A logger object for logging debug info. [default: None]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="pixel-grid-model">
<h2>Pixel grid model<a class="headerlink" href="#pixel-grid-model" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="piff.PixelGrid">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">piff.</span></code><code class="sig-name descname"><span class="pre">PixelGrid</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scale</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centered</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/pixelgrid.html#PixelGrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.PixelGrid" title="Permalink to this definition">¶</a></dt>
<dd><p>A PSF modeled as interpolation between a grid of points.</p>
<p>The parameters of the model are the values at the grid points, although the sum of the
values is constrained to be 1/scale**2, to give it unit total flux. The grid is in uv
space, with the scale and size specified on construction.  Interpolation will always
assume values of zero outside of grid.</p>
<p>PixelGrid also needs to specify an interpolant to define how to values between grid points
are determined from the pixelated model.  Any galsim.Interpolant type is allowed.
The default interpolant is galsim.Lanczos(7)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scale</strong> – Pixel scale of the PSF model (in arcsec)</p></li>
<li><p><strong>size</strong> – Number of pixels on each side of square grid.</p></li>
<li><p><strong>interp</strong> – An Interpolant to be used [default: Lanczos(7)]</p></li>
<li><p><strong>centered</strong> – If True, PSF model centroid is forced to be (0,0), and the
PSF fitting will marginalize over stellar position.  If False, stellar
position is fixed at input value and the fitted PSF may be off-center.
[default: True]</p></li>
<li><p><strong>logger</strong> – A logger object for logging debug info. [default: None]</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="piff.PixelGrid.chisq">
<code class="sig-name descname"><span class="pre">chisq</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">star</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/pixelgrid.html#PixelGrid.chisq"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.PixelGrid.chisq" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate dependence of chi^2 = -2 log L(D|p) on PSF parameters for single star.
as a quadratic form chi^2 = dp^T AT A dp - 2 bT A dp + chisq,
where dp is the <em>shift</em> from current parameter values.  Returned Star
instance has the resultant (A, b, chisq) attributes, but params vector has not have
been updated yet (could be degenerate).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>star</strong> – A Star instance</p></li>
<li><p><strong>logger</strong> – A logger object for logging debug info. [default: None]</p></li>
<li><p><strong>convert_func</strong> – An optional function to apply to the profile being fit before
drawing it onto the image.  This is used by composite PSFs to
isolate the effect of just this model component. [default: None]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a new Star instance with updated fit parameters. (esp. A,b)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="piff.PixelGrid.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">star</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/pixelgrid.html#PixelGrid.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.PixelGrid.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the Model to the star’s data to yield iterative improvement on its PSF parameters
and uncertainties.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>star</strong> – A Star instance</p></li>
<li><p><strong>logger</strong> – A logger object for logging debug info. [default: None]</p></li>
<li><p><strong>convert_func</strong> – An optional function to apply to the profile being fit before
drawing it onto the image.  This is used by composite PSFs to
isolate the effect of just this model component. [default: None]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a new Star instance with updated fit information</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="piff.PixelGrid.getProfile">
<code class="sig-name descname"><span class="pre">getProfile</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/pixelgrid.html#PixelGrid.getProfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.PixelGrid.getProfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a version of the model as a GalSim GSObject</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> – The fit parameters for a given star.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a galsim.GSObject instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="piff.PixelGrid.initialize">
<code class="sig-name descname"><span class="pre">initialize</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">star</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/pixelgrid.html#PixelGrid.initialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.PixelGrid.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a star to work with the current model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>star</strong> – A Star instance with the raw data.</p></li>
<li><p><strong>logger</strong> – A logger object for logging debug info. [default: None]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a star instance with the appropriate initial fit values</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="piff.PixelGrid.normalize">
<code class="sig-name descname"><span class="pre">normalize</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">star</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/pixelgrid.html#PixelGrid.normalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.PixelGrid.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure star.fit.params are normalized properly.</p>
<p>Note: This modifies the input star in place.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="optical-model">
<h2>Optical model<a class="headerlink" href="#optical-model" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="piff.Optical">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">piff.</span></code><code class="sig-name descname"><span class="pre">Optical</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/optical_model.html#Optical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.Optical" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the Optical Model</p>
<p>There are potentially three components to this model that are convolved together.</p>
<p>First, there is an optical component, which uses a galsim.OpticalPSF to model the
profile.  The aberrations are considered fitted parameters, but the other attributes
are fixed and are given at initialization.  These parameters are passed to GalSim, so
they have the same definitions as used there.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>diam</strong> – Diameter of telescope aperture in meters. [required (but cf.
template option)]</p></li>
<li><p><strong>lam</strong> – Wavelength of observations in nanometers. [required (but cf.
template option)]</p></li>
<li><p><strong>obscuration</strong> – Linear dimension of central obscuration as fraction of pupil
linear dimension, [0., 1.). [default: 0]</p></li>
<li><p><strong>nstruts</strong> – Number of radial support struts to add to the central obscuration.
[default: 0]</p></li>
<li><p><strong>strut_thick</strong> – Thickness of support struts as a fraction of pupil diameter.
[default: 0.05]</p></li>
<li><p><strong>strut_angle</strong> – Angle made between the vertical and the strut starting closest to
it, defined to be positive in the counter-clockwise direction.
[default: 0. * galsim.degrees]</p></li>
<li><p><strong>pupil_plane_im</strong> – The name of a file containing the pupil plane image to use instead
of creating one from obscuration, struts, etc. [default: None]</p></li>
</ul>
</dd>
</dl>
<p>Second, there may be an atmospheric component, which uses either a galsim.Kolmogorov or
galsim.VonKarman to model the profile.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fwhm</strong> – The full-width half-max of the atmospheric part of the PSF.
[default: None]</p></li>
<li><p><strong>r0</strong> – The Fried parameter in units of meters to use for the Kolmogorov
profile. [default: None]</p></li>
<li><p><strong>L0</strong> – The outer scale in units of meters if desired, in which case
the atmospheric part will be a VonKarman. [default: None]</p></li>
</ul>
</dd>
</dl>
<p>Finally, there is allowed to be a final Gaussian component and an applied shear.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sigma</strong> – Convolve with gaussian of size sigma. [default: 0]</p></li>
<li><p><strong>g2</strong> (<em>g1</em><em>,</em>) – Shear to apply to final image. Simulates vibrational modes.
[default: 0]</p></li>
</ul>
</dd>
</dl>
<p>Since there are a lot of parameters here, we provide the option of setting many of them
from a template value.  e.g. template = ‘des’ will use the values stored in the dict
piff.optical_model.optical_templates[‘des’].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>template</strong> – A key word in the dict piff.optical_model.optical_template to use
for setting values of these parameters.  [default: None]</p>
</dd>
</dl>
<p>If you use a template as well as other specific parameters, the specific parameters will
override the values from the template.  e.g.  to simulate what DES would be like at
lambda=1000 nm (the default is 700), you could do:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">piff</span><span class="o">.</span><span class="n">OpticalModel</span><span class="p">(</span><span class="n">template</span><span class="o">=</span><span class="s1">&#39;des&#39;</span><span class="p">,</span> <span class="n">lam</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="piff.Optical.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">star</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/optical_model.html#Optical.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.Optical.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Warning: This method just updates the fit with the chisq and dof!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>star</strong> – A Star instance</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a new Star with the fitted parameters in star.fit</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="piff.Optical.getProfile">
<code class="sig-name descname"><span class="pre">getProfile</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/piff/optical_model.html#Optical.getProfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#piff.Optical.getProfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a version of the model as a GalSim GSObject</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>params</strong> – A np array with [z4, z5, z6…z11]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a galsim.GSObject instance</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="select.html" class="btn btn-neutral float-left" title="Selecting Good PSF Stars" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="interp.html" class="btn btn-neutral float-right" title="Interpolation Schemes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>